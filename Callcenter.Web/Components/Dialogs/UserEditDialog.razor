<MudDialog>
    <DialogContent>
        <MudStack>
            <MudTextField @bind-Value="_user.FullName"
                          Variant="Variant.Outlined"
                          Label="Имя пользователя"/>
            <MudTextField @bind-Value="_user.Login"
                          Variant="Variant.Outlined"
                          Label="Логин"/>
            <MudTextField @bind-Value="_user.Password"
                          Variant="Variant.Outlined"
                          Label="Пароль"/>
            <MudSelect T="int?"
                       ValueChanged="UserOrgIdChanged"
                       Value="@_user.OrgId"
                       Variant="Variant.Outlined"
                       Label="Организация">
                @foreach (var org in _orgs)
                {
                    <MudSelectItem T="int?" Value="org.Key">@org.Value</MudSelectItem>
                }
            </MudSelect>
            <MudSelect @bind-Value="_user.GroupId"
                       Variant="Variant.Outlined"
                       Label="Рабочая группа">
                @foreach (var group in _userGroups.Where(c => _user.OrgId != null && c.OrgId == _user.OrgId))
                {
                    <MudSelectItem T="int?" Value="group.Id">@group.Name</MudSelectItem>
                }
            </MudSelect>
            <MudNumericField @bind-Value="_user.SpLevel"
                             Variant="Variant.Outlined"
                             Label="Уровень СП"/>
            <MudCheckBox @bind-Value="_user.IsEnabled"
                         Color="Color.Info"
                         Label="Активен"/>
        </MudStack>
    </DialogContent>
    <DialogActions>
        @if (UserId != null)
        {
            <MudButton Color="Color.Error"
                       Variant="Variant.Filled"
                       OnClick="Delete">
                Удалить
            </MudButton>
        }
        <MudButton Color="Color.Success"
                   Variant="Variant.Filled"
                   OnClick="Save">
            Сохранить
        </MudButton>
        <MudButton Color="Color.Info"
                   Variant="Variant.Filled"
                   OnClick="Cancel">
            Закрыть
        </MudButton>
    </DialogActions>
</MudDialog>