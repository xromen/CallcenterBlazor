@using Callcenter.Web.Pages
<MudDialog>
    <TitleContent>
        @if (NewsObj.Id == null)
        {
            @("Создание новости")
        }
        else
        {
            @("Редактирование новости")
        }
    </TitleContent>
    <DialogContent>
        <MudStack>
            <MudTextField @bind-Value="NewsObj.Text"
                          Label="Тело новости"
                          Variant="Variant.Outlined"
                          Margin="Margin.Dense"
                          Lines="10"
                          MaxLines="20"/>
            @foreach (var org in _orgs)
            {
                <MudCheckBox T="bool"
                             Value="@NewsObj.OrganisationIds.Contains(org.Key)"
                             Label="@org.Value"
                             ValueChanged="(v) => OrgCheckedChanged(v, org.Key)"/>
            }
        </MudStack>
    </DialogContent>
    <DialogActions>
        @if (NewsObj.Id != null)
        {
            <MudButton Color="Color.Error"
                       Variant="Variant.Filled"
                       OnClick="Delete">
                Удалить
            </MudButton>
        }
        <MudButton Color="Color.Success"
                   Variant="Variant.Filled"
                   OnClick="Save">
            Сохранить
        </MudButton>
        <MudButton Color="Color.Info"
                   Variant="Variant.Filled"
                   OnClick="Cancel">
            Закрыть
        </MudButton>
    </DialogActions>
</MudDialog>